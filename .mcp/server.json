{
  "capabilities": {
    "databases": ["MySQL", "SQL Server", "SQLite", "PostgreSQL", "Oracle"],
    "features": [
      "环境变量全局配置",
      "数据库连接管理",
      "数据库架构查询（数据库列表、表列表、视图列表、表结构、列信息、主键、索引等）",
      "数据库架构操作（创建/删除/重命名表、添加/删除/修改列、索引管理、约束管理等）",
      "基础查询（SqlQuery、SqlQuerySingle、GetDataReader）",
      "高级查询（多结果集、标量值、类型化查询、IN参数查询）",
      "数据操作（插入、更新、删除）",
      "存储过程调用（简单调用、带输出参数）",
      "事务支持",
      "批量操作（批量执行命令）",
      "SQL Server 特殊支持（GO 语句执行）",
      "参数化查询防止 SQL 注入",
      "危险操作检测和防护"
    ],
    "security": [
      "参数化查询防止 SQL 注入",
      "危险操作检测（DROP、TRUNCATE、ALTER 等）",
      "敏感信息隐藏",
      "错误处理和异常捕获"
    ]
  },
  "$schema": "https://static.modelcontextprotocol.io/schemas/2025-09-29/server.schema.json",
  "name": "io.github.ttcc666/database-mcp-server",
  "description": "一个功能强大的数据库操作 MCP 服务器，支持 MySQL、SQL Server、SQLite、PostgreSQL 和 Oracle 数据库。通过环境变量配置连接信息，提供数据库连接管理、架构查询与操作、高级查询、数据操作、存储过程调用和事务处理等功能。",
  "packages": [
    {
      "packageArguments": [],
      "registryType": "nuget",
      "identifier": "DatabaseMcpServer",
      "transport": {
        "type": "stdio"
      },
      "version": "0.1.0-beta",
      "environmentVariables": [
        {
          "name": "DB_CONNECTION_STRING",
          "description": "数据库连接字符串（必需）",
          "required": true
        },
        {
          "name": "DB_TYPE",
          "description": "数据库类型：MySql, SqlServer, Sqlite, PostgreSQL, Oracle（可选，默认 MySql）",
          "required": false
        }
      ]
    }
  ],
  "repository": {
    "url": "https://github.com/ttcc666/DatabaseMcpServer",
    "source": "github"
  },
  "tools": [
    {
      "name": "test_connection",
      "description": "测试数据库连接"
    },
    {
      "name": "get_database_config",
      "description": "从环境变量中获取当前数据库配置"
    },
    {
      "name": "validate_configuration",
      "description": "验证数据库配置是否正确"
    },
    {
      "name": "get_data_base_list",
      "description": "获取所有数据库名称"
    },
    {
      "name": "get_view_info_list",
      "description": "查询所有视图"
    },
    {
      "name": "get_table_info_list",
      "description": "获取所有表名"
    },
    {
      "name": "get_column_infos_by_table_name",
      "description": "根据表名获取字段信息"
    },
    {
      "name": "get_is_identities",
      "description": "获取自增列"
    },
    {
      "name": "get_primaries",
      "description": "获取主键"
    },
    {
      "name": "is_any_table",
      "description": "判断表是否存在"
    },
    {
      "name": "is_any_column",
      "description": "判断列是否存在"
    },
    {
      "name": "is_primary_key",
      "description": "判断主键是否存在"
    },
    {
      "name": "is_identity",
      "description": "判断自增是否存在"
    },
    {
      "name": "is_any_constraint",
      "description": "判断约束是否存在"
    },
    {
      "name": "drop_table",
      "description": "删除表"
    },
    {
      "name": "truncate_table",
      "description": "清空表"
    },
    {
      "name": "backup_table",
      "description": "备份表"
    },
    {
      "name": "rename_table",
      "description": "重命名表"
    },
    {
      "name": "add_column",
      "description": "添加列"
    },
    {
      "name": "update_column",
      "description": "更新列"
    },
    {
      "name": "drop_column",
      "description": "删除列"
    },
    {
      "name": "rename_column",
      "description": "重命名列"
    },
    {
      "name": "add_primary_key",
      "description": "添加主键"
    },
    {
      "name": "drop_constraint",
      "description": "删除约束"
    },
    {
      "name": "create_index",
      "description": "创建索引或唯一约束"
    },
    {
      "name": "is_any_index",
      "description": "判断索引是否存在"
    },
    {
      "name": "get_index_list",
      "description": "获取所有索引名字集合"
    },
    {
      "name": "add_default_value",
      "description": "添加默认值"
    },
    {
      "name": "add_table_remark",
      "description": "添加表描述"
    },
    {
      "name": "is_any_table_remark",
      "description": "判断是否存在表描述"
    },
    {
      "name": "delete_table_remark",
      "description": "删除表描述"
    },
    {
      "name": "add_column_remark",
      "description": "添加列描述"
    },
    {
      "name": "delete_column_remark",
      "description": "删除列描述"
    },
    {
      "name": "get_proc_list",
      "description": "获取存储过程名字集合"
    },
    {
      "name": "get_func_list",
      "description": "获取函数集合"
    },
    {
      "name": "drop_view",
      "description": "删除视图"
    },
    {
      "name": "drop_func",
      "description": "删除函数"
    },
    {
      "name": "drop_proc",
      "description": "删除存储过程"
    },
    {
      "name": "get_db_types",
      "description": "获取数据库类型集合"
    },
    {
      "name": "get_trigger_names",
      "description": "根据表名获取触发器集合"
    },
    {
      "name": "get_table_schema",
      "description": "获取表结构信息"
    },
    {
      "name": "sql_query",
      "description": "执行 SQL 查询并返回强类型实体集合，支持复杂 SQL"
    },
    {
      "name": "sql_query_single",
      "description": "执行 SQL 查询并返回单条记录"
    },
    {
      "name": "get_data_reader",
      "description": "获取 DataReader 数据（自动处理释放）"
    },
    {
      "name": "get_data_set_all",
      "description": "获取多个结果集，支持一次执行多个查询"
    },
    {
      "name": "get_scalar",
      "description": "获取首行首列的值（标量值）"
    },
    {
      "name": "get_string",
      "description": "获取首行首列的字符串值"
    },
    {
      "name": "get_int",
      "description": "获取首行首列的整数值"
    },
    {
      "name": "get_long",
      "description": "获取首行首列的长整数值"
    },
    {
      "name": "get_double",
      "description": "获取首行首列的双精度浮点数值"
    },
    {
      "name": "get_decimal",
      "description": "获取首行首列的十进制数值"
    },
    {
      "name": "get_date_time",
      "description": "获取首行首列的日期时间值"
    },
    {
      "name": "sql_query_multiple",
      "description": "执行查询并返回两个结果集"
    },
    {
      "name": "sql_query_with_in_parameter",
      "description": "处理 IN 参数查询，支持数组参数"
    },
    {
      "name": "execute_command",
      "description": "执行 SQL 命令 (INSERT, UPDATE, DELETE)"
    },
    {
      "name": "insert_data",
      "description": "将数据插入到表中"
    },
    {
      "name": "update_data",
      "description": "更新表中的数据"
    },
    {
      "name": "delete_data",
      "description": "从表中删除数据"
    },
    {
      "name": "execute_transaction",
      "description": "执行包含多条 SQL 命令的事务"
    },
    {
      "name": "call_stored_procedure",
      "description": "调用存储过程（简单用法）"
    },
    {
      "name": "call_stored_procedure_with_output",
      "description": "调用带有输出参数的存储过程"
    },
    {
      "name": "execute_command_with_go",
      "description": "执行包含 GO 语句的 SQL Server 脚本"
    },
    {
      "name": "batch_execute_commands",
      "description": "批量执行 SQL 命令（使用长连接优化性能）"
    }
  ],
  "version": "0.1.0-beta"
}
